<ion-view title="Todos">
  <ion-nav-buttons side="right">
      <button class="button button-icon button-clear ion-plus-round" ui-sref="newTodo"></button>
  </ion-nav-buttons>
    <ion-content padding="true" class="has-header">

      <div class="card list">
        <ion-list show-delete="false" can-swipe="true">
            <ion-item class="fadeInLeft-item item-remove-animate" ng-repeat="item in todos" item="item" menu-close="">
                <div ng-if="item.done">
                  <del>{{item.todo}}<br/>
                    {{item.todoDate}}</del>
                </div>
                <div ng-if="!item.done">
                  <strong>{{item.todo}}</strong><br/>
                  {{item.todoDate}}</del>
                </div>

                <div ng-if="item.todoNote.length > 0">
                  <div  ng-class="isItemShown(item) ? 'item-expand active' : 'item-expand inactive'">
                    <p style="white-space: normal">{{trim(item.todoNote)}}</p>
                  </div>
                  <div ng-click="toggleItem(item)" class="item-expand-footer">
                    <i ng-class="isItemShown(item) ? 'ion-ios-minus-outline' : 'ion-ios-plus-outline'"></i>
                    {{ isGroupShown(item) ? 'Einklappen' : 'Ausklappen' }}
                  </div>
                </div>

                <ion-option-button ng-click="item.done=true;todos.$save(item);" ng-if="!item.done" class="button-light icon ion-checkmark-round" menu-close=""></ion-option-button>
                <ion-option-button ng-click="todos.$remove(item)" class="button-assertive icon ion-trash-a" menu-close=""></ion-option-button>
            </ion-item>
        </ion-list>
      </div>

    <!-- works


      <div class="card list">
        <ion-list show-delete="false" can-swipe="true">
            <ion-item class="fadeInLeft-item item-remove-animate" ng-repeat="item in todos" item="item" menu-close="">
                <div ng-if="item.done">
                  <del>{{item.todo}}<br/>
                    {{item.todoDate}}</del>
                </div>
                <div ng-if="!item.done">
                  {{item.todo}}<br/>
                  {{item.todoDate}}</del>
                </div>
                <ion-option-button ng-click="item.done=true;todos.$save(item);" ng-if="!item.done" class="button-light icon ion-checkmark-round" menu-close=""></ion-option-button>
                <ion-option-button ng-click="todos.$remove(item)" class="button-assertive icon ion-trash-a" menu-close=""></ion-option-button>
            </ion-item>
        </ion-list>

    </div>-->

      <div style="text-align:center" ng-if="todos.length < 1">Keine Todos</div>
    </ion-content>
</ion-view>
